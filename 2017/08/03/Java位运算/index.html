<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="江南E客的Blog">
    <meta name="keyword" content="腾讯">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        Java位运算 - 江南E客的Blog | Z.Alex&#39;s Blog
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> 你的努力要配的上你的野心 </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/img/avatar.png" />
        </div>
        <div class="name">
            <i>Z.Alex</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archive">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#一、-相关基础概念"><span class="toc-text">一、 相关基础概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-机器数"><span class="toc-text">1.机器数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-真值"><span class="toc-text">2.真值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-原码"><span class="toc-text">3.原码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-反码"><span class="toc-text">4.反码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-补码"><span class="toc-text">5.补码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-小结"><span class="toc-text">6.小结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二、-Java位运算"><span class="toc-text">二、 Java位运算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-左移（-lt-lt-）"><span class="toc-text">7.左移（&lt;&lt;）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-右移（-gt-gt-）"><span class="toc-text">8.右移（&gt;&gt;）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-无符号右移（-gt-gt-gt-）"><span class="toc-text">9.无符号右移（&gt;&gt;&gt;）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-按位非操作（～）"><span class="toc-text">10.按位非操作（～）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-按位与操作（-amp-）"><span class="toc-text">11.按位与操作（&amp;）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-按位或操作（｜）"><span class="toc-text">12.按位或操作（｜）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#13-按位异或操作（-）"><span class="toc-text">13.按位异或操作（ ^ ）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#14-总结"><span class="toc-text">14.总结</span></a></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i> 你的努力要配的上你的野心 </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        Java位运算
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2017-08-03 15:16:19</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#java" title="java">java</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <h3 id="一、-相关基础概念"><a href="#一、-相关基础概念" class="headerlink" title="一、 相关基础概念"></a>一、 相关基础概念</h3><p>在开始java位运算的知识之前，我们先来了解几个基础的概念，机器数，真值，原码，反码，补码。</p>
<h4 id="1-机器数"><a href="#1-机器数" class="headerlink" title="1.机器数"></a>1.机器数</h4><p>​        我们知道无论是代码还是数值，在计算机中最后都转换成以二进制的形式存在的，而一个数值在计算机中的二进制表示形式，就是这个数的机器数。机器数是有符号位的，在计算机中用一个二进制数的最高位存放符号，正数为0，负数为1，如下实例（按原码表示）：</p>
<p>十进制的＋5，计算机字长为8位，其二进制就是00000101</p>
<p>十进制的 －5，计算机字长为8位，其二进制就是10000101(这里用的是原码)</p>
<p>其中00000101和10000101就是机器数</p>
<h4 id="2-真值"><a href="#2-真值" class="headerlink" title="2.真值"></a>2.真值</h4><p>​        由于机器数的第一位是符号位，所以其形式值就不等于其真值的数值，也就是说10000101表示的是－5而不是133（10000101的十进制是131，前提是不算最高位为符号位），因此－5才是机器数的真值。</p>
<h4 id="3-原码"><a href="#3-原码" class="headerlink" title="3.原码"></a>3.原码</h4><p>​        原码是一种计算机中对数字的二进制定点表示方法。原码表示法在数值前面增加了一位符号位（即最高位为符号位）：正数该位为0，负数该位为1，其余位表示数值的大小。</p>
<p>［＋5］=[00000101]（原码）</p>
<p>［ -  5］=[10000101]（原码）</p>
<p>因为第一位是符号位，因此8位二进制的取值范围就是［1111 1111，0111 1111］也就是［-127,127］</p>
<h4 id="4-反码"><a href="#4-反码" class="headerlink" title="4.反码"></a>4.反码</h4><p>​        反码是数值存储的一种，但是由于补码更能有效表现数字在计算机中的形式，所以多数计算机一般都不采用反码表示数，反码的表示方法如下:</p>
<p>正数的反码是其本身</p>
<p>负数的反码是在其原码的基础上, 符号位不变，其余各个位取反.</p>
<p>［＋5］=[00000101]（原码）＝ ［00000101］（反码）</p>
<p>［ -  5］=[10000101]（原码）＝ ［11111010］（反码）</p>
<h4 id="5-补码"><a href="#5-补码" class="headerlink" title="5.补码"></a>5.补码</h4><p>​        在计算机系统中，数值一律用补码来表示和存储。原因在于，使用补码，可以将符号位和数值域统一处理；同时，加法和减法也可以统一处理。补码的表示方法是:</p>
<p>正数的补码就是其本身</p>
<p>负数的补码是在其原码的基础上, 符号位不变, 其余各位取反, 最后+1. (即在反码的基础上+1)</p>
<p>［＋5］=[00000101]（原码）＝ ［00000101］（反码）＝［00000101］（补码）</p>
<p>［ -  5］=[10000101]（原码）＝ ［11111010］（反码）＝［11111011］（补码）</p>
<h4 id="6-小结"><a href="#6-小结" class="headerlink" title="6.小结"></a>6.小结</h4><p>​        计算机中的符号数有三种表示方法，即原码、反码和补码。三种表示方法均有符号位和数值位两部分，符号位都是用0表示“正”，用1表示“负”，而数值位，三种表示方法各不相同。而在计算机系统中，数值一律用补码来表示和存储。</p>
<h3 id="二、-Java位运算"><a href="#二、-Java位运算" class="headerlink" title="二、 Java位运算"></a>二、 Java位运算</h3><p>位移操作：(只针对 int类型的数据有效，java中，一个int的长度始终是32位，也就是4个字节,它操作的都是该整数的二进制数).也可作用于以下类型，即 byte，short，char，long(它们都是整数形式)。当为这四种类型时，JVM先把它们转换成int型再进行操作。</p>
<h4 id="7-左移（-lt-lt-）"><a href="#7-左移（-lt-lt-）" class="headerlink" title="7.左移（&lt;&lt;）"></a>7.左移（&lt;&lt;）</h4><p>m&lt;&lt;n的含义:把整数m表示的二进制数左移n位,高位移出n位都舍弃，低位补0.  (此时将会出现正数变成负数的可能)，如下实例：</p>
<p>5&lt;&lt;2 ：把十进制的数值5左移两位,按如下步骤计算，</p>
<p>把5转位16位的二进制机器数：00000000 00000000 00000000 00000101</p>
<p>按左移原理，将二进制数左移两位：00000000 00000000 00000000 00010100</p>
<p>左移后结果为20</p>
<p>5&lt;&lt;29:把十进制的数值5左移29位,按如下步骤计算，</p>
<p>把5转位16位的二进制机器数：00000000 00000000 00000000 00000101</p>
<p>按左移原理，将二进制数左移29位：10100000 00000000 00000000  00000000</p>
<p>左移后高位是1，结果显然是负数</p>
<p>小结：m&lt;&lt;n即在数字没有溢出的前提下，对于正数和负数，左移n位都相当于m乘以2的n次方.</p>
<h4 id="8-右移（-gt-gt-）"><a href="#8-右移（-gt-gt-）" class="headerlink" title="8.右移（&gt;&gt;）"></a>8.右移（&gt;&gt;）</h4><p> m&gt;&gt;n的含义:把整数m表示的二进制数右移n位,m为正数，高位全部补0；m为负数，高位全部补1,实例如下：</p>
<p>5&gt;&gt;2 ：把十进制的数值5右移两位,按如下步骤计算，</p>
<p>把5转位16位的二进制机器数：00000000 00000000 00000000 00000101</p>
<p>按右移原理，将二进制数左移两位：00000000 00000000 00000000 00000001</p>
<p>右移后结果为1</p>
<p>-5&gt;&gt;2：把十进制的数值-5右移两位,按如下步骤计算，</p>
<p>把-5转位16位的二进制机器数：11111111 11111111 11111111 11111011</p>
<p>按右移原理，将二进制数右移两位：11111111 11111111 11111111 11111110</p>
<p>右移后结果为-2</p>
<p>小结：</p>
<p> m&gt;&gt;n即相当于m除以2的n次方，得到的为整数时，即为结果。如果结果为小数，此时会出现两种情况：</p>
<p>如果m为正数，得到的商会无条件 的舍弃小数位；</p>
<p>如果m为负数，舍弃小数部分，然后把整数部分加+1得到位移后的值。</p>
<h4 id="9-无符号右移（-gt-gt-gt-）"><a href="#9-无符号右移（-gt-gt-gt-）" class="headerlink" title="9.无符号右移（&gt;&gt;&gt;）"></a>9.无符号右移（&gt;&gt;&gt;）</h4><p>m&gt;&gt;&gt;n：整数m表示的二进制右移n位，不论正负数，高位都补0,实例如下：</p>
<p>5&gt;&gt;&gt;2 ：把十进制的数值5右移两位,按如下步骤计算，</p>
<p>把5转位16位的二进制机器数：00000000 00000000 00000000 00000101</p>
<p>按右移原理，将二进制数左移两位：00000000 00000000 00000000 00000001</p>
<p>右移后结果为1</p>
<p>-5&gt;&gt;&gt;2：把十进制的数值-5右移两位,按如下步骤计算，</p>
<p>把-5转位16位的二进制机器数：11111111 11111111 11111111 11111011</p>
<p>按右移原理，将二进制数右移两位：00111111 11111111 11111111 11111110</p>
<p>右移后结果为正数</p>
<h4 id="10-按位非操作（～）"><a href="#10-按位非操作（～）" class="headerlink" title="10.按位非操作（～）"></a>10.按位非操作（～）</h4><p>~ 按位取反操作符，对每个二进制位的内容求反，即1变成0，0变成1实例如下</p>
<p>把-5转位16位的二进制机器数：11111111 11111111 11111111 11111011</p>
<p>～(-5) 取反结果：00000000 00000000 00000000 00000100 </p>
<p>转为十进制，结果为4</p>
<h4 id="11-按位与操作（-amp-）"><a href="#11-按位与操作（-amp-）" class="headerlink" title="11.按位与操作（&amp;）"></a>11.按位与操作（&amp;）</h4><p>&amp; 位与操作符，对应的二进制位进行与操作，两个都为1才为1，其他情况均为0，原理如下:</p>
<p>1&amp;0=0</p>
<p>0&amp;0=0</p>
<p>1&amp;1=1</p>
<p>0&amp;1=0</p>
<p>实例：－5 &amp; 4</p>
<p>-5的二进制形式为： 11111111 11111111 11111111 11111011</p>
<p> 4的二进制形式为：  00000000 00000000 00000000 00000100</p>
<p>——————————————————————————————</p>
<p>逻辑与运算结果：     00000000 00000000 00000000 00000000</p>
<p>最终结果为0。</p>
<h4 id="12-按位或操作（｜）"><a href="#12-按位或操作（｜）" class="headerlink" title="12.按位或操作（｜）"></a>12.按位或操作（｜）</h4><p>| 位或操作符，对应的二进制位进行或操作，两个都为0才为0，其他情况均为1，原理如下：</p>
<p>1|0=1</p>
<p>0|0=0</p>
<p>1|1=1</p>
<p>0|1=1</p>
<p>实例：-5 ｜ 4</p>
<p> -5的二进制形式为：11111111 11111111 11111111 11111011</p>
<p>  4的二进制形式为：00000000 00000000 00000000 00000100</p>
<p>————————————————————————————</p>
<p>逻辑或运算结果：    11111111 11111111 11111111 11111111</p>
<p>最终结果为-1。</p>
<p>利用或的原理我们可以把字节转换为整数，-64&amp;0xFF=192，其中0xFF表示整数255。</p>
<h4 id="13-按位异或操作（-）"><a href="#13-按位异或操作（-）" class="headerlink" title="13.按位异或操作（ ^ ）"></a>13.按位异或操作（ ^ ）</h4><p>^ 异或操作符，相同位值为0 否则为1，原理如下：</p>
<p>1^1=0</p>
<p>1^0=1</p>
<p>0^1=1</p>
<p>0^0=0</p>
<p>实例：-5 ^  4</p>
<p> -5的二进制形式为：11111111 11111111 11111111 11111011</p>
<p>  4的二进制形式为：00000000 00000000 00000000 00000100</p>
<p>————————————————————————————</p>
<p>逻辑异或运算结果：    11111111 11111111 11111111 11111111</p>
<p>最终结果为-1。</p>
<p>其实利用逻辑异或操作有个作用就是可以比较两个数值是否相等，即利用1^1=0,0^0=0的原理，如5^5==0。</p>
<h4 id="14-总结"><a href="#14-总结" class="headerlink" title="14.总结"></a>14.总结</h4><p>​        通过上面的分析，我们对java的位运算也算有了比较全面的了解，那么我们的程序通过位运算又有什么优势呢？其实通过位运算确实会比我们直接的程序代码运算会快很多，因为位运算直接运算的是计算机底层的二进制机器操作指令，而我们的程序代码运算最终也是要转成计算机可识别的二进制操作指令才能执行，位运算可以理解为省了中间转换的操作，处理器可以直接操作。事实是我们在某些源码经常能看见如下代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> OP_CONNECT = <span class="number">1</span> &lt;&lt; <span class="number">3</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> OP_ACCEPT = <span class="number">1</span> &lt;&lt; <span class="number">4</span>;</span><br></pre></td></tr></table></figure>

        
            <div class="donate-container">
    <div class="donate-button">
        <button id="donate-button">赞赏</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="/img/donate.png">
        <p> 感谢鼓励 </p>
    </div>
</div>
        
        <br />
        <div id="comment-container" style="display:none;">
        </div>
        <div id="disqus_thread" style="display:none;"></div>

        <div id="lv-container" style="display:none;">
        </div>

    </div>
</div>
    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        <li>
            <a target="_blank" href="https://twitter.com/z_alex">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-twitter"></i>
                            </span>
            </a>
        </li>
        
        
        <li>
            <a target="_blank" href="https://www.zhihu.com/people/z.alex">
                            <span class="fa-stack fa-lg">
                                 <i class="iconfont icon-zhihu"></i>
                            </span>
            </a>
        </li>
        

        
        <li>
            <a target="_blank" href="http://weibo.com/江南E客">
                            <span class="fa-stack fa-lg">
                                  <i class="iconfont icon-weibo"></i>
                            </span>
            </a>
        </li>
        

        
        <li>
            <a target="_blank" href="https://www.facebook.com/z_alex">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-facebook"></i>
                            </span>
            </a>
        </li>
        

        
        <li>
            <a target="_blank"  href="https://github.com/Alex0605">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        
        <li>
            <a target="_blank"  href="https://www.linkedin.com/in/z_alex">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-linkedin"></i>
                            </span>
            </a>
        </li>
        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv" style="display:none">
            <span id="busuanzi_value_site_pv" style="display:none"></span>
        </span>
        <span id="busuanzi_container_site_uv" style="display:none">
            <span id="busuanzi_value_site_uv" style="display:none"></span>
        </span>
     </p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
